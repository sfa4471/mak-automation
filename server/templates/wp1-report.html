<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Compressive Strength Field Report</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    /* Page-level styling - applies to every page */
    @page {
      size: Letter;
      margin: 0;
    }
    
    html, body {
      width: 100%;
      height: 100%;
      font-family: Arial, sans-serif;
      font-size: 9pt;
      line-height: 1.2;
    }
    
    body {
      padding: 15px;
      position: relative;
      border: 3px solid #000;
      min-height: 11in;
      width: 8.5in;
      margin: 0 auto;
      padding-bottom: 0.5in; /* Footer safe area - reduced to prevent premature page break */
      box-sizing: border-box;
    }
    
    /* Page break controls for print/PDF */
    @media print {
      .section-box {
        page-break-inside: avoid;
        break-inside: avoid;
      }
      
      .cylinders-table {
        page-break-inside: avoid;
        break-inside: avoid;
      }
      
      .cylinders-table thead {
        display: table-header-group;
      }
      
      .cylinders-table tbody {
        display: table-row-group;
      }
    }
    
    /* Section border container - consistent across all sections */
    .section-box {
      border: 2px solid #000;
      padding: 8px;
      margin-bottom: 12px;
      background-color: #fff;
    }
    
    /* Specimen Set container - wraps both info and table sections */
    .specimen-set-container {
      margin-bottom: 8px;
      margin-top: 0;
      padding-top: 0;
      page-break-inside: avoid;
      break-inside: avoid;
    }
    
    /* First Specimen Set - NO page break, stays on Page 1 */
    .specimen-set-container.first,
    .specimen-set-container:first-of-type {
      page-break-before: auto !important;
      break-before: auto !important;
      margin-top: 0 !important;
      padding-top: 0 !important;
      min-height: 0 !important;
    }
    
    /* Specimen Set 2 and beyond - force new page (one per page) and add top spacing */
    .specimen-set-container:not(.first):not(:first-of-type) {
      page-break-before: always;
      break-before: page;
      margin-top: 16px; /* Add spacing from page top border */
    }
    
    /* Ensure Specimen Set sections stay together with minimal spacing */
    .specimen-set-container .section-box {
      margin-bottom: 4px;
      margin-top: 0;
    }
    
    .specimen-set-container .section-box:last-child {
      margin-bottom: 0;
    }
    
    /* Header section - top block with company info, logo, and title */
    .header-section-box {
      border: 2px solid #000;
      padding: 10px;
      margin-bottom: 12px;
      background-color: #fff;
    }
    
    .header-section {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 8px;
    }
    
    .company-info {
      font-size: 9pt;
      line-height: 1.4;
    }
    
    .logo-area {
      width: 120px;
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    
    .logo-area img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      display: block;
    }
    
    .logo-placeholder {
      width: 120px;
      height: 80px;
      border: 1px solid #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 8pt;
      color: #666;
    }
    
    .title {
      text-align: center;
      font-size: 14pt;
      font-weight: bold;
      text-decoration: underline;
      margin: 8px 0 0 0;
    }
    
    .section {
      margin-bottom: 0;
    }
    
    /* Section title inside bordered box - centered */
    .section-title {
      font-size: 11pt;
      font-weight: bold;
      text-decoration: underline;
      margin: 0 0 8px 0;
      padding-bottom: 5px;
      border-bottom: 1px solid #000;
      text-align: center;
    }
    
    /* Single-row field layout */
    .field-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 5px;
      font-size: 9pt;
    }
    
    .field-row .field-group {
      flex: 1;
      margin-right: 15px;
    }
    
    .field-row .field-group:last-child {
      margin-right: 0;
    }
    
    .project-info-box {
      border: none;
      padding: 0;
      font-size: 9pt;
      margin-bottom: 0;
    }
    
    .project-info-box div {
      margin-bottom: 3px;
    }
    
    .placement-info-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 10px;
      font-size: 9pt;
    }
    
    .placement-info-table td {
      border: 1px solid #000;
      padding: 3px 5px;
      text-align: center;
    }
    
    .sample-info-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 10px;
      font-size: 9pt;
    }
    
    .sample-info-table td {
      border: 1px solid #000;
      padding: 3px 5px;
      text-align: center;
    }
    
    .sample-info-table tr:nth-child(3) td {
      background-color: #f0f0f0;
      font-weight: bold;
    }
    
    .sample-info-table td:first-child {
      text-align: left;
    }
    
    .sample-info-table td:not(:first-child) {
      text-align: center;
    }
    
    .test-results-table {
      width: 250px;
      border-collapse: collapse;
      margin-bottom: 10px;
      font-size: 8pt;
    }
    
    .test-results-table th,
    .test-results-table td {
      border: 1px solid #000;
      padding: 3px 4px;
      text-align: center;
    }
    
    .test-results-table th {
      background-color: #f0f0f0;
      font-weight: bold;
    }
    
    .cylinders-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 10px;
      font-size: 8pt;
      page-break-inside: avoid;
      break-inside: avoid;
    }
    
    .cylinders-table th,
    .cylinders-table td {
      border: 1px solid #000;
      padding: 3px 4px;
      text-align: center;
    }
    
    .cylinders-table th {
      background-color: #f0f0f0;
      font-weight: bold;
    }
    
    .remarks-box {
      border: none;
      padding: 5px 0;
      min-height: 40px;
      font-size: 9pt;
      margin-bottom: 0;
    }
    
    .footer {
      margin-top: 10px;
      font-size: 7pt;
      text-align: center;
      line-height: 1.4;
      color: #333;
    }
    
    .footer-disclaimer {
      margin-top: 15px;
      margin-bottom: 0.5in; /* Reserve space for footer */
      font-size: 7pt;
      text-align: center;
      line-height: 1.4;
      color: #333;
      page-break-inside: avoid;
      break-inside: avoid;
    }
    
    /* Footer positioning - handled by Puppeteer's displayHeaderFooter */
    .page-number {
      display: none; /* Hide HTML footer, use Puppeteer footer instead */
    }
    
    .footer-company {
      display: none; /* Hide HTML footer, use Puppeteer footer instead */
    }
    
    /* Remarks section - ensure it doesn't get cut */
    .remarks-section {
      page-break-inside: avoid;
      break-inside: avoid;
      margin-bottom: 0.5in; /* Reserve space for footer */
    }
  </style>
</head>
<body>
  <!-- Header Section - Company Info, Logo, and Title -->
  <div class="header-section-box">
    <div class="header-section">
      <div class="company-info">
        <div>MAK Lonestar Consulting, LLC</div>
        <div>940 N Beltline Road, Suite 107, Irving, TX 75061</div>
        <div>Tel (214) 718-1250</div>
      </div>
      <div class="logo-area">{{LOGO_IMAGE}}</div>
    </div>
    
    <div class="title">COMPRESSIVE STRENGTH FIELD REPORT</div>
  </div>
  
  <!-- Project Information -->
  <div class="section-box">
    <div class="section-title">Project Information</div>
    <div class="field-row">
      <div class="field-group"><strong>PROJECT:</strong> {{PROJECT_NAME}}</div>
      <div class="field-group"><strong>PROJECT NO:</strong> {{PROJECT_NUMBER}}</div>
    </div>
  </div>
  
  <!-- Placement Information -->
  <div class="section-box">
    <div class="section-title">Placement Information</div>
    <table class="placement-info-table">
      <tr>
        <td><strong>TECHNICIAN:</strong> {{TECHNICIAN}}</td>
        <td><strong>WEATHER:</strong> {{WEATHER}}</td>
      </tr>
      <tr>
        <td><strong>PLACEMENT DATE:</strong> {{PLACEMENT_DATE}}</td>
        <td><strong>SPEC. STRENGTH, psi:</strong> {{SPEC_STRENGTH}} at {{SPEC_STRENGTH_DAYS}} days</td>
      </tr>
    </table>
  </div>
  
  <!-- Sample Information -->
  <div class="section-box">
    <div class="section-title">Sample Information</div>
    <div class="field-row">
      <div class="field-group"><strong>STRUCTURE:</strong> {{STRUCTURE}}</div>
      <div class="field-group"><strong>SAMPLE LOCATION:</strong> {{SAMPLE_LOCATION}}</div>
    </div>
    
    <table class="sample-info-table">
      <tr>
        <td><strong>SUPPLIER:</strong></td>
        <td>{{SUPPLIER}}</td>
        <td><strong>TIME BATCHED:</strong> {{TIME_BATCHED}}</td>
      </tr>
      <tr>
        <td><strong>CLASS / MIX ID:</strong></td>
        <td>{{CLASS_MIX_ID}}</td>
        <td><strong>TIME SAMPLED:</strong> {{TIME_SAMPLED}}</td>
      </tr>
      <tr>
        <td><strong>TEST RESULTS</strong></td>
        <td><strong>MEASURED</strong></td>
        <td><strong>SPECS</strong></td>
      </tr>
      <tr>
        <td><strong>AMBIENT TEMP:</strong></td>
        <td>{{AMBIENT_TEMP_MEASURED}}°F</td>
        <td>{{AMBIENT_TEMP_SPECS}}</td>
      </tr>
      <tr>
        <td><strong>CONCRETE TEMP:</strong></td>
        <td>{{CONCRETE_TEMP_MEASURED}}°F</td>
        <td>{{CONCRETE_TEMP_SPECS}}</td>
      </tr>
      <tr>
        <td><strong>SLUMP:</strong></td>
        <td>{{SLUMP_MEASURED}}</td>
        <td>{{SLUMP_SPECS}}</td>
      </tr>
      <tr>
        <td><strong>AIR CONTENT BY VOL:</strong></td>
        <td>{{AIR_CONTENT_MEASURED}}</td>
        <td>{{AIR_CONTENT_SPECS}}</td>
      </tr>
      <tr>
        <td><strong>UNIT WEIGHT (pcf):</strong></td>
        <td>{{UNIT_WEIGHT}}</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><strong>YARDS BATCHED:</strong></td>
        <td>&nbsp;</td>
        <td><strong>TRUCK NO / TICKET NO:</strong> {{TRUCK_NO}}/{{TICKET_NO}}</td>
      </tr>
      <tr>
        <td><strong>PLANT:</strong></td>
        <td>&nbsp;</td>
        <td><strong>YARDS PLACED / TOTAL:</strong> {{YARDS_PLACED}}/{{TOTAL_YARDS}}</td>
      </tr>
      <tr>
        <td><strong>WATER ADDED:</strong></td>
        <td>&nbsp;</td>
        <td><strong>FINAL CURE METHOD:</strong> {{FINAL_CURE_METHOD}}</td>
      </tr>
    </table>
  </div>
  
  <!-- Specimen Sets -->
  {{SPECIMEN_SETS}}
  
  <!-- Remarks -->
  <div class="remarks-section section-box">
    <div class="section-title">REMARKS:</div>
    <div class="remarks-box">{{REMARKS}}</div>
  </div>
  
  <!-- Footer -->
  <div class="footer-disclaimer">
    The results shown on this report are for the exclusive use of the client for whom they were obtained and apply only to the samples tested and/or observed. They are not intended to be indicative of the qualities of apparently identical products. The use of our name must receive prior written approval. Reports must be reproduced in their entirety.
  </div>
  
  <!-- Footer handled by Puppeteer's displayHeaderFooter -->
</body>
</html>

